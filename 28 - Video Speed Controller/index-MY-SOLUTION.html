<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Video Speed Scrubber</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="https://fav.farm/ðŸ”¥" />
</head>

<body>

    <div class="wrapper">
        <video class="flex" width="765" height="430" src="./652333414.mp4" loop controls></video>
        <div class="speed">
            <div class="speed-bar">1Ã—</div>
        </div>
    </div>

    <script>
        const video = document.querySelector('video');
        const speedController = document.querySelector('.speed');
        const speedValue = document.querySelector('.speed-bar');

        const speedControllerDimenions = speedController.getBoundingClientRect();
        // console.log(speedControllerDimenions, speedControllerDimenions.height);

        function controlSpeed(e) {
            // console.log(this);
            // console.log(e.pageY);
            let speed = ((e.pageY - speedControllerDimenions.top) / speedControllerDimenions.height) * 4;
            let speedPercentage = ((e.pageY - speedControllerDimenions.top) / speedControllerDimenions.height) * 100;
            // console.log(speed.toFixed(2));
            // console.log(speedPercentage);
            if (speed > 0.08) {
                video.playbackRate = speed;
                speedValue.innerHTML = `${speed.toFixed(2)}x`;
                speedValue.style.setProperty('height', `${speedPercentage}%`);
            }
        }

        speedController.addEventListener('mousemove', controlSpeed);
    </script>
</body>

</html>